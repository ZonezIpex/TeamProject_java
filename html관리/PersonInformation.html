<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´í˜ì´ì§€</title>
    <link rel="stylesheet" href="../cssê´€ë¦¬/PersonInformationStyle.css">
    <script src="../htmlê´€ë¦¬/auth.js"></script>
</head>
<body>
    <!-- ê³µí†µ í—¤ë” -->
    <div class="header">
        <span>ì»¤ë¦¬ì–´ ìš”ì•½ë³¸</span>
        <div class="top-icons">
            <span>âš™ï¸</span>
            <span onclick="location.href='PersonInformation.html'" style="cursor: pointer;">ğŸ‘¤</span>
            <span>â˜°</span>
        </div>
    </div>

    <!-- ë³¸ë¬¸ -->
    <div class="main-content">
        <div class="mypage-box">
            <h2>ë§ˆì´í˜ì´ì§€</h2>

            <!-- í”„ë¡œí•„ ë°•ìŠ¤ ì¶”ê°€ (ë°°ê²½ í¬í•¨) -->
            <div class="profile-box">
                <div class="profile-image-placeholder">í”„ë¡œí•„ ì‚¬ì§„</div>

                <!-- í”„ë¡œí•„ ì •ë³´ -->
                <div class="profile-info">
                    <p><strong>ì´ë¦„:</strong> <span id="profile-name">-</span></p>
                    <p><strong>ì´ë©”ì¼:</strong> <span id="profile-email">-</span></p>
                    <p><strong>ê°€ì… ë‚ ì§œ:</strong> <span id="profile-date">-</span></p>
                </div>
            </div>

            <!-- ì¶”ê°€ ì •ë³´ í•­ëª© -->
            <div class="extra-info">
                <div class="info-box">
                    <h3>ë‚´ ì´ë ¥ì„œ</h3>
                    <p>ìµœê·¼ ì‘ì„±í•œ ì´ë ¥ì„œ í™•ì¸</p>
                    <button class="button">í™•ì¸</button>
                </div>

                <!-- íšŒì› ì •ë³´ ìˆ˜ì • ë²„íŠ¼ -->
                <div class="info-box">
                    <h3>íšŒì› ì •ë³´ ìˆ˜ì •</h3>
                    <p>ë‹‰ë„¤ì„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</p>
                    <button class="button" onclick="location.href='ChangeInformation.html'">ìˆ˜ì •</button>
                </div>

                <div class="info-box">
                    <h3>ë¡œê·¸ì•„ì›ƒ</h3>
                    <p>í˜„ì¬ ê³„ì •ì—ì„œ ë¡œê·¸ì•„ì›ƒ</p>
                    <button class="button" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- í‘¸í„° -->
    <footer>
        <p>13916 ê²½ê¸°ë„ ì•ˆì–‘ì‹œ ë™ì•ˆêµ¬ í¥ì•ˆë¡œ 29 | ëŒ€í‘œì „í™” : 031-467-4700</p>
        <p>Copyright í•™ì‚¬ëˆ„ ALL RIGHTS RESERVED</p>
    </footer>

    <script>
        function logout() {
            localStorage.removeItem("loggedInUser"); // ë¡œê·¸ì¸ ì •ë³´ ì‚­ì œ
            alert("ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.");
            location.href = "Login.html"; // ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™
        }

        function loadProfile() {
            let username = localStorage.getItem("loggedInUser");
            if (!username) {
                alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");
                location.href = "Login.html";
                return;
            }

            let userData = JSON.parse(localStorage.getItem(username));
            if (userData) {
                document.getElementById("profile-name").innerText = userData.nickname;
                document.getElementById("profile-email").innerText = userData.email;
                document.getElementById("profile-date").innerText = userData.signupDate;
            }
        }

        window.onload = loadProfile;
    </script>

</body>
</html>
